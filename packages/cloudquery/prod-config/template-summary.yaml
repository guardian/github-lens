kind: source
spec:
  name: 'template-summary'
  path: 'guardian/cloudformation-template-summary'
  version: 'v0.1.3'
  tables: ['*']
  destinations: ['postgresql']
  spec:
    regions:
      # All regions we support.
      # See https://github.com/guardian/infosec-platform/blob/main/policies/DenyAccessToNonApprovedRegions.json
      - eu-west-1
      - eu-west-2
      - us-east-1
      - us-east-2
      - us-west-1
      - ap-southeast-2
      - ca-central-1
    org:
      member_role_name: cloudquery-access # See: https://github.com/guardian/aws-account-setup/pull/58.
      organization_units:
        - ${file:/opt/cloudquery/aws-organisation-root}
