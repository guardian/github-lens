graph TB
  linkStyle default fill:#ffffff

  subgraph diagram ["Cloudquery - System Context"]
    style diagram fill:#ffffff,stroke:#ffffff

    3["<div style='font-weight: bold'>Cloudquery</div><div style='font-size: 70%; margin-top: 0px'>[Software System]</div><div style='font-size: 80%; margin-top:10px'>Scheduled tasks that collect<br />data about our code/cloud<br />platforms</div>"]
    style 3 fill:#dddddd,stroke:#9a9a9a,color:#000000
    4[("<div style='font-weight: bold'>Cloudquery DB</div><div style='font-size: 70%; margin-top: 0px'>[Software System]</div><div style='font-size: 80%; margin-top:10px'>Postgres database that stores<br />information from cloudquery<br />and Repocop</div>")]
    style 4 fill:#dddddd,stroke:#9a9a9a,color:#000000
    5["<div style='font-weight: bold'>GitHub</div><div style='font-size: 70%; margin-top: 0px'>[Software System]</div><div style='font-size: 80%; margin-top:10px'>Source code repository</div>"]
    style 5 fill:#dddddd,stroke:#9a9a9a,color:#000000
    6["<div style='font-weight: bold'>Snyk</div><div style='font-size: 70%; margin-top: 0px'>[Software System]</div><div style='font-size: 80%; margin-top:10px'>Vulnerability scanner</div>"]
    style 6 fill:#dddddd,stroke:#9a9a9a,color:#000000
    7["<div style='font-weight: bold'>AWS</div><div style='font-size: 70%; margin-top: 0px'>[Software System]</div><div style='font-size: 80%; margin-top:10px'>Cloud platform</div>"]
    style 7 fill:#dddddd,stroke:#9a9a9a,color:#000000

    6-. "<div>Data from snyk populates<br />Cloudquery tables</div><div style='font-size: 70%'>[Cloudquery plugin running on fargate]</div>" .->3
    5-. "<div>Data from snyk populates<br />Cloudquery tables</div><div style='font-size: 70%'>[Cloudquery plugin running on fargate]</div>" .->3
    7-. "<div>Data from snyk populates<br />Cloudquery tables</div><div style='font-size: 70%'>[Cloudquery plugin running on fargate]</div>" .->3
    3-. "<div>Cloudquery writes data to the<br />DB</div><div style='font-size: 70%'></div>" .->4
  end